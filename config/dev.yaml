# Development environment configuration

testing_mode: true

server:
  port: "8080"

weather_api:
  url: "https://api.openweathermap.org/data/2.5/weather"
  timeout: "5s"

request:
  timeout: "10s"

cache:
  # in_memory | memcached; use memcached for shared cache across instances
  backend: "memcached"
  ttl: "5m"
  # Used when backend=memcached; env override: MEMCACHED_ADDRS
  memcached:
    addrs: "localhost:11211"
    timeout: "500ms"
    max_idle_conns: 2

reliability:
  retry_max_attempts: 3
  retry_base_delay: "200ms"
  retry_max_delay: "5s"
  rate_limit_rps: 5
  rate_limit_burst: 20 #maxium requests served in a burst (5 or 2.5s of requests)

shutdown:
  timeout: "30s"

lifecycle:
  ready_delay: "3s"
  overload_window: "60s"
  overload_threshold_pct: 70
  idle_threshold_req_per_min: 5
  idle_window: "5m"
  minimum_lifespan: "5m"
  degraded_window: "60s"
  degraded_error_pct: 20
  degraded_retry_initial: "1m"
  degraded_retry_max: "13m"

metrics:
  tracked_locations:
    - seattle
    - boston
    - new york
    - los angeles
    - chicago
    - london
    - paris
    - tokyo
    - sydney
    - berlin
